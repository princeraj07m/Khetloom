  <div class="row">
      <div class="col-12">
        <h2 class="mb-4">
          <i class="bi bi-list-ul text-info"></i>
          Activity Logs
        </h2>
      </div>
    </div>

    <div class="row mb-4">
      <!-- Log Statistics -->
      <div class="col-md-3">
        <div class="card bg-primary text-white">
          <div class="card-body text-center">
            <i class="bi bi-list-check fs-1 mb-2"></i>
            <h4>{{totalLogs}}</h4>
            <p class="mb-0">Total Actions</p>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card bg-info text-white">
          <div class="card-body text-center">
            <i class="bi bi-arrow-right-circle fs-1 mb-2"></i>
            <h4>{{movementLogs}}</h4>
            <p class="mb-0">Movements</p>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card bg-success text-white">
          <div class="card-body text-center">
            <i class="bi bi-droplet-fill fs-1 mb-2"></i>
            <h4>{{fertilizationLogs}}</h4>
            <p class="mb-0">Fertilizations</p>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card bg-warning text-dark">
          <div class="card-body text-center">
            <i class="bi bi-clock fs-1 mb-2"></i>
            <h4>{{getRecentLogsCount()}}</h4>
            <p class="mb-0">Recent (24h)</p>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-12">
        <div class="card">
          <div class="card-header d-flex justify-content-between align-items-center">
            <h5 class="mb-0">
              <i class="bi bi-journal-text text-success"></i>
              System Activity History
            </h5>
            <div class="d-flex align-items-center">
              <!-- Filter Controls -->
              <select class="form-select form-select-sm me-2"
                      [(ngModel)]="filterType"
                      (change)="applyFilters()"
                      style="width: auto;">
                <option value="">All Actions</option>
                <option value="movement">Movements Only</option>
                <option value="fertilization">Fertilizations Only</option>
              </select>

              <select class="form-select form-select-sm me-2"
                      [(ngModel)]="logLimit"
                      (change)="loadLogs()"
                      style="width: auto;">
                <option value="50">Last 50</option>
                <option value="100">Last 100</option>
                <option value="200">Last 200</option>
                <option value="500">All Logs</option>
              </select>

              <button class="btn btn-outline-primary btn-sm me-2"
                      (click)="refreshLogs()">
                <i class="bi bi-arrow-clockwise"></i>
                Refresh
              </button>

              <button class="btn btn-outline-success btn-sm"
                      (click)="exportLogs()">
                <i class="bi bi-download"></i>
                Export
              </button>
            </div>
          </div>

          <div class="card-body p-0">
            <!-- Loading Indicator -->
            <div *ngIf="isLoading" class="text-center py-4">
              <div class="loading-spinner"></div>
              <p class="mt-2 text-muted">Loading activity logs...</p>
            </div>

            <!-- Logs Table -->
            <div *ngIf="!isLoading" class="table-responsive" style="max-height: 600px; overflow-y: auto;">
              <table class="table table-hover mb-0">
                <thead class="table-light sticky-top">
                  <tr>
                    <th width="10%">
                      <i class="bi bi-hash"></i>
                      ID
                    </th>
                    <th width="15%">
                      <i class="bi bi-clock"></i>
                      Time
                    </th>
                    <th width="15%">
                      <i class="bi bi-tag"></i>
                      Action
                    </th>
                    <th width="15%">
                      <i class="bi bi-geo"></i>
                      Position
                    </th>
                    <th width="45%">
                      <i class="bi bi-info-circle"></i>
                      Details
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngIf="filteredLogs.length === 0">
                    <td colspan="5" class="text-center py-4 text-muted">
                      <i class="bi bi-inbox fs-1 d-block mb-2"></i>
                      No logs found matching the current filters
                    </td>
                  </tr>

                  <tr *ngFor="let log of filteredLogs; let i = index"
                      class="log-row"
                      [ngClass]="getRowClass(log.action, i)">
                    <td>
                      <span class="badge bg-secondary">{{log.id}}</span>
                    </td>
                    <td>
                      <div class="time-info">
                        <div class="fw-bold">{{formatTime(log.timestamp)}}</div>
                        <small class="text-muted">{{formatDate(log.timestamp)}}</small>
                      </div>
                    </td>
                    <td>
                      <span class="badge" [ngClass]="getActionBadgeClass(log.action)">
                        <i [class]="getActionIcon(log.action)"></i>
                        {{log.action | titlecase}}
                      </span>
                    </td>
                    <td>
                      <span *ngIf="log.x !== null && log.y !== null"
                            class="position-badge">
                        <i class="bi bi-crosshair"></i>
                        ({{log.x}}, {{log.y}})
                      </span>
                      <span *ngIf="log.x === null || log.y === null"
                            class="text-muted">
                        N/A
                      </span>
                    </td>
                    <td>
                      <div class="log-details">
                        {{log.details}}
                        <small class="text-muted d-block mt-1">
                          {{getRelativeTime(log.timestamp)}}
                        </small>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <!-- Footer with Summary -->
          <div class="card-footer bg-light">
            <div class="row text-center">
              <div class="col-md-4">
                <small class="text-muted">
                  Showing {{filteredLogs.length}} of {{allLogs.length}} total logs
                </small>
              </div>
              <div class="col-md-4">
                <small class="text-muted">
                  Last updated: {{lastUpdated | date:'short'}}
                </small>
              </div>
              <div class="col-md-4">
                <small class="text-muted">
                  <span class="badge bg-success me-1">{{movementLogs}} moves</span>
                  <span class="badge bg-primary">{{fertilizationLogs}} fertilizations</span>
                </small>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Recent Activity Summary -->
    <div class="row mt-4">
      <div class="col-md-6">
        <div class="card">
          <div class="card-header">
            <h5 class="mb-0">
              <i class="bi bi-graph-up text-warning"></i>
              Activity Timeline
            </h5>
          </div>
          <div class="card-body">
            <div class="timeline">
              <div *ngFor="let log of getRecentActivity(); let i = index"
                   class="timeline-item">
                <div class="timeline-marker" [ngClass]="getTimelineMarkerClass(log.action)">
                  <i [class]="getActionIcon(log.action)"></i>
                </div>
                <div class="timeline-content">
                  <div class="fw-bold">{{log.details}}</div>
                  <small class="text-muted">
                    {{getRelativeTime(log.timestamp)}}
                    <span *ngIf="log.x !== null && log.y !== null">
                      at ({{log.x}}, {{log.y}})
                    </span>
                  </small>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-6">
        <div class="card">
          <div class="card-header">
            <h5 class="mb-0">
              <i class="bi bi-pie-chart text-info"></i>
              Action Distribution
            </h5>
          </div>
          <div class="card-body">
            <div class="distribution-chart">
              <div class="distribution-item">
                <div class="d-flex justify-content-between mb-2">
                  <span>
                    <i class="bi bi-arrow-right-circle text-primary"></i>
                    Movements
                  </span>
                  <span class="fw-bold">{{getMovementPercentage()}}%</span>
                </div>
                <div class="progress mb-3" style="height: 8px;">
                  <div class="progress-bar bg-primary"
                       [style.width.%]="getMovementPercentage()"></div>
                </div>
              </div>

              <div class="distribution-item">
                <div class="d-flex justify-content-between mb-2">
                  <span>
                    <i class="bi bi-droplet-fill text-success"></i>
                    Fertilizations
                  </span>
                  <span class="fw-bold">{{getFertilizationPercentage()}}%</span>
                </div>
                <div class="progress mb-3" style="height: 8px;">
                  <div class="progress-bar bg-success"
                       [style.width.%]="getFertilizationPercentage()"></div>
                </div>
              </div>

              <div class="mt-3 text-center">
                <small class="text-muted">
                  Based on {{totalLogs}} total actions
                </small>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
