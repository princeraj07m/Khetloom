<div class="container py-3">
  <h4>Weather Cache Admin</h4>
  <div class="row g-3 align-items-end">
    <div class="col-md-4">
      <label class="form-label">Location</label>
      <input class="form-control" [(ngModel)]="location" placeholder="City" />
    </div>
    <div class="col-md-2">
      <button class="btn btn-primary w-100" (click)="get()">Get</button>
    </div>
  </div>

  <div *ngIf="isLoading" class="alert alert-info mt-3">Loading...</div>
  <div *ngIf="errorMessage" class="alert alert-danger mt-3">{{ errorMessage }}</div>

  <div class="card mt-3" *ngIf="cached">
    <div class="card-body">
      <h6 class="card-title">Cached Result</h6>
      <pre class="mb-0" style="white-space: pre-wrap;">{{ cached | json }}</pre>
    </div>
  </div>

  <hr class="my-4" />

  <h5>Set Cache</h5>
  <div class="row g-3">
    <div class="col-md-3">
      <label class="form-label">Location</label>
      <input class="form-control" [(ngModel)]="payload.location" placeholder="City" />
    </div>
    <div class="col-md-2">
      <label class="form-label">TTL (minutes)</label>
      <input type="number" class="form-control" [(ngModel)]="payload.ttlMinutes" />
    </div>
    <div class="col-12">
      <label class="form-label">Data (JSON)</label>
      <textarea rows="5" class="form-control" [(ngModel)]="payload.data" placeholder='{"temp":25}'></textarea>
    </div>
  </div>
  <div class="mt-3">
    <button class="btn btn-success" (click)="set()">Set Cache</button>
  </div>
</div>


